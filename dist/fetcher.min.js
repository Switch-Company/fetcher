/**
 * @switch-company/fetcher - Wrap the Fetch API with convenience methods.
 * @version v1.0.0
 * @link undefined
 * @license ISC
 **/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.fetcher=e()}(this,function(){"use strict";var t={headers:{"X-Requested-With":"XMLHttpRequest"},options:{credentials:"same-origin"},timeout:3e4},e=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function n(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(r=Object.assign({},t.options,r)).headers||(r.headers={}),r.headers=Object.assign({},t.headers,r.headers),new Promise(function(e,o){var a=!1,i=function(t){a=!0,o({status:t?null:599,statusText:t?t.message:"Network Connect Timeout Error"})},s=window.setTimeout(i,t.timeout);window.fetch(n,r).then(function(t){a||e(t)}).catch(i).then(function(){window.clearTimeout(s)})}).then(function(t){return function(t,n,r){var o=t.headers.get("content-type"),a=void 0;o&&(o=o.split(";")[0]);if(!r)return t;switch(o){case"application/json":a=t.json();break;case"multipart/form-data":a=t.formData();break;case"application/octet-stream":a=t.blob();break;default:a=t.text()}return a.then(function(n){var r=function(t,n){var r=n.ok,o=n.redirected,a=n.status,i=n.statusText,s=n.type,u=n.url,d={},c=!0,f=!1,l=void 0;try{for(var p,y=n.headers.entries()[Symbol.iterator]();!(c=(p=y.next()).done);c=!0){var h=p.value,m=e(h,2),v=m[0],b=m[1];d[v]=b}}catch(t){f=!0,l=t}finally{try{!c&&y.return&&y.return()}finally{if(f)throw l}}return{headers:d,ok:r,redirected:o,status:a,statusText:i,type:s,url:u,data:t}}(n,t);return t.ok?r:Promise.reject(r)})}(t,0,o)})}var r=window.encodeURIComponent;function o(t){return Object.keys(t).map(function(e){return Array.isArray(t[e])?t[e].map(function(t){return r(e)+"="+r(t)}).join("&"):r(e)+"="+r(t[e])}).join("&")}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(e.method="get",e.data)&&(t+=t.split["?"][1]?"&"+o(e.data):"?"+o(e.data),delete e.data);return n(t,e,r)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=void 0,a=!0;return e.headers?Object.keys(e.headers).some(function(t){if("content-type"===t.toLowerCase())return o=e.headers[t].toLowerCase().split(";")[0],!0}):e.headers={},"multipart/form-data"!==o&&"application/octet-stream"!==o||(a=!1),a&&e.data&&("append"in e.data.__proto__||"type"in e.data.__proto__?(a=!1,e.data.type&&!o&&(e.headers["content-type"]=e.data.type)):o||"object"!==i(e.data)||(e.headers["content-type"]="application/json;charset=UTF-8")),(e=Object.assign({},{method:"post"},e)).data&&(e.body=a?JSON.stringify(e.data):e.data,delete e.data),n(t,e,r)}function u(t,e=!1){const n=new FormData(t),r={};for(let[t,o]of n)if(!(e&&"string"!=typeof o||"File"===o.constructor.name&&0===o.size))if(r[t]){if(Array.isArray(r[t])){r[t].push(o);continue}r[t]=[r[t],o]}else r[t]=o;return r}const d=window.encodeURIComponent;var c={toJSON:u,toQuery:function(t){const e=u(t,!0);return Object.keys(e).map(t=>Array.isArray(e[t])?e[t].map(e=>`${d(t)}=${d(e)}`).join("&"):`${d(t)}=${d(e[t])}`).join("&")},hasFile:function(t){return Array.from(t.elements).some(t=>"file"===t.type&&t.files.length>0)}};return{get:a,send:s,form:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=s;return e.method||(t.method=t.method),"get"===e.method&&(r=a),c.hasFile?(e.header||(e.header={}),e.header["Content-Type"]="multipart/form-data",e.data=new FormData(t)):e.data=c.toJSON(t),r(t.action,e,n)},config:t}});
